import{_ as f,u as b,r as i,o as u,d as S,w as v,a as e,e as _,v as p,c as h,t as x,g as y,f as L,p as k,b as F,i as U,j as V,k as m,F as $,h as B}from"./index.12f74801.js";import{F as I}from"./FormTemplate.b186e581.js";const g=a=>(k("data-v-72d95d17"),a=a(),F(),a),N=["onSubmit"],C=g(()=>e("label",{for:"username"},"Username",-1)),M=["disabled"],T=g(()=>e("label",{for:"password"},"Password",-1)),q=["disabled"],D=["disabled"],E={key:0,class:"error-message"},P={name:"LoginForm",setup(a){const c=b(),r=i(""),s=i(""),d=i(""),t=i("initial"),w=async()=>{t.value="sending";try{if(!r.value||!s.value)throw new Error("Username or password missing");const n={username:r.value,password:s.value};await c.login(n).then(()=>{U.push("/")}).catch(o=>{throw o})}catch(n){d.value=n.message,t.value="initial";return}};return(n,o)=>(u(),S(I,{status:t.value},{default:v(()=>[e("form",{onSubmit:L(w,["prevent"])},[C,_(e("input",{type:"text",id:"username","onUpdate:modelValue":o[0]||(o[0]=l=>r.value=l),placeholder:"Username",disabled:t.value==="sending",required:""},null,8,M),[[p,r.value]]),T,_(e("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=l=>s.value=l),placeholder:"Password",disabled:t.value==="sending",required:""},null,8,q),[[p,s.value]]),e("button",{type:"submit",disabled:t.value==="sending"},"Login",8,D),d.value?(u(),h("span",E,x(d.value),1)):y("",!0)],40,N)]),_:1},8,["status"]))}};var R=f(P,[["__scopeId","data-v-72d95d17"]]);const j=e("h1",null,"Login",-1),z={class:"center"},A=e("p",null,[e("small",null,"or")],-1),G=B("Sign Up"),K={name:"LoginView",setup(a){return(c,r)=>{const s=V("RouterLink");return u(),h($,null,[j,m(R),e("div",z,[A,m(s,{to:"/sign-up"},{default:v(()=>[G]),_:1})])],64)}}};export{K as default};
