import{_ as f,u as S,r as l,o as i,c as p,a as w,b as e,w as y,d as _,v as m,t as U,n as P,F as g,p as x,e as E,f as V,g as F}from"./index.4681dd5d.js";const v=o=>(x("data-v-dcb60d5a"),o=o(),E(),o),k={key:0,class:"loading-spinner"},I=["onSubmit"],B=v(()=>e("label",{for:"username"},"Username",-1)),C=["disabled"],M=v(()=>e("label",{for:"password"},"Password",-1)),N=["disabled"],$=v(()=>e("label",{for:"repeatPassword"},"Re-enter Password",-1)),z=["disabled"],A=["disabled"],D={key:0,class:"error-message"},R={name:"SignupForm",setup(o){const h=S(),t=l(""),r=l(""),c=l(""),s=l(!1),u=l(""),b=async()=>{u.value="",s.value=!0;try{if(r.value!==c.value)throw new Error("Passwords do not match");if(t.value.length<3)throw new Error("Username must be at least 3 characters long");if(r.value.length<6)throw new Error("Password must be at least 6 characters long");if(r.value.length>100)throw new Error("Password must be less than 100 characters long");if(t.value.length>100)throw new Error("Username must be less than 100 characters long");if(!/^[a-zA-Z0-9_]+$/.test(t.value))throw new Error("Username must use only letters, numbers, and underscores");const d={username:t.value,password:r.value};await h.signup(d).then(()=>{V.push("/")}).catch(a=>{throw a})}catch(d){u.value=d.message,s.value=!1;return}};return(d,a)=>(i(),p(g,null,[s.value?(i(),p("div",k)):w("",!0),e("div",{class:P(["signup-page",{"is-logging-in":s.value}])},[e("form",{onSubmit:y(b,["prevent"])},[B,_(e("input",{type:"text",id:"username","onUpdate:modelValue":a[0]||(a[0]=n=>t.value=n),placeholder:"username",disabled:s.value},null,8,C),[[m,t.value]]),M,_(e("input",{type:"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=n=>r.value=n),placeholder:"password",disabled:s.value},null,8,N),[[m,r.value]]),$,_(e("input",{type:"password",id:"repeatPassword","onUpdate:modelValue":a[2]||(a[2]=n=>c.value=n),placeholder:"re-enter password",disabled:s.value},null,8,z),[[m,c.value]]),e("button",{type:"submit",disabled:s.value},"Create Account",8,A),u.value?(i(),p("span",D,U(u.value),1)):w("",!0)],40,I)],2)],64))}};var T=f(R,[["__scopeId","data-v-dcb60d5a"]]);const Z=e("h1",null,"Sign Up",-1),q={name:"SignupView",setup(o){return(h,t)=>(i(),p(g,null,[Z,F(T)],64))}};export{q as default};
